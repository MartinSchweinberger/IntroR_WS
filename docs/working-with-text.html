<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 3 Working with Text | Introduction to R for Social Science</title>
  <meta name="description" content="Section 3 Working with Text | Introduction to R for Social Science" />
  <meta name="generator" content="bookdown 0.38 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 3 Working with Text | Introduction to R for Social Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 3 Working with Text | Introduction to R for Social Science" />
  
  
  

<meta name="author" content="Martin Schweinberger" />


<meta name="date" content="2024-06-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-to-r.html"/>
<link rel="next" href="exercise-1-introducing-text-processing.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="libs/klippy-0.0.0.9500/js/klippy.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> General Information</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#abstract"><i class="fa fa-check"></i><b>1.1</b> Abstract</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#timeline"><i class="fa fa-check"></i><b>1.2</b> Timeline</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#resources"><i class="fa fa-check"></i><b>1.3</b> Resources</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#audience"><i class="fa fa-check"></i><b>1.4</b> Audience</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#what-to-do-before-the-workshop"><i class="fa fa-check"></i><b>1.5</b> What to do before the workshop</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#getting-started"><i class="fa fa-check"></i><b>1.6</b> Getting started</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#preparation"><i class="fa fa-check"></i><b>2.2</b> Preparation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#before-you-start-working-with-rrstudio-folder-structure-and-r-projects"><i class="fa fa-check"></i><b>2.2.1</b> Before you start working with R/RStudio (Folder Structure and R projects)</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#create-a-folder-for-your-project"><i class="fa fa-check"></i><b>2.2.2</b> Create a folder for your project</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#open-rstudio"><i class="fa fa-check"></i><b>2.2.3</b> Open RStudio</a></li>
<li class="chapter" data-level="2.2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-projects"><i class="fa fa-check"></i><b>2.2.4</b> R Projects</a></li>
<li class="chapter" data-level="2.2.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-notebooks"><i class="fa fa-check"></i><b>2.2.5</b> R Notebooks</a></li>
<li class="chapter" data-level="2.2.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#updating-r"><i class="fa fa-check"></i><b>2.2.6</b> Updating R</a></li>
<li class="chapter" data-level="2.2.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#optimizing-r-project-options"><i class="fa fa-check"></i><b>2.2.7</b> Optimizing R project options</a></li>
<li class="chapter" data-level="2.2.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#getting-started-with-r-notebooks"><i class="fa fa-check"></i><b>2.2.8</b> Getting started with R Notebooks</a></li>
<li class="chapter" data-level="2.2.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-markdown"><i class="fa fa-check"></i><b>2.2.9</b> R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-and-rstudio-basics"><i class="fa fa-check"></i><b>2.3</b> R and RStudio Basics</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#rstudio-panes"><i class="fa fa-check"></i><b>2.3.1</b> RStudio: Panes</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#getting-started-with-r"><i class="fa fa-check"></i><b>2.4</b> Getting started with R</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#setting-up-an-r-session"><i class="fa fa-check"></i><b>2.4.1</b> Setting up an R session</a></li>
<li class="chapter" data-level="2.4.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#packages"><i class="fa fa-check"></i><b>2.4.2</b> Packages</a></li>
<li class="chapter" data-level="2.4.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#getting-help"><i class="fa fa-check"></i><b>2.4.3</b> Getting help</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="working-with-text.html"><a href="working-with-text.html"><i class="fa fa-check"></i><b>3</b> Working with Text</a>
<ul>
<li class="chapter" data-level="3.1" data-path="working-with-text.html"><a href="working-with-text.html#functions-and-objects"><i class="fa fa-check"></i><b>3.1</b> Functions and Objects</a></li>
<li class="chapter" data-level="3.2" data-path="working-with-text.html"><a href="working-with-text.html#inspecting-data"><i class="fa fa-check"></i><b>3.2</b> Inspecting data</a></li>
<li class="chapter" data-level="3.3" data-path="working-with-text.html"><a href="working-with-text.html#loading-text-data"><i class="fa fa-check"></i><b>3.3</b> Loading text data</a></li>
<li class="chapter" data-level="3.4" data-path="working-with-text.html"><a href="working-with-text.html#saving-text-data"><i class="fa fa-check"></i><b>3.4</b> Saving text data</a></li>
<li class="chapter" data-level="3.5" data-path="working-with-text.html"><a href="working-with-text.html#piping"><i class="fa fa-check"></i><b>3.5</b> Piping</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exercise-1-introducing-text-processing.html"><a href="exercise-1-introducing-text-processing.html"><i class="fa fa-check"></i><b>4</b> Exercise 1: Introducing Text Processing</a></li>
<li class="chapter" data-level="5" data-path="basic-string-processing.html"><a href="basic-string-processing.html"><i class="fa fa-check"></i><b>5</b> Basic String Processing</a>
<ul>
<li class="chapter" data-level="5.1" data-path="basic-string-processing.html"><a href="basic-string-processing.html#extracting-frequency-information-from-text"><i class="fa fa-check"></i><b>5.1</b> Extracting frequency information from text</a></li>
<li class="chapter" data-level="5.2" data-path="basic-string-processing.html"><a href="basic-string-processing.html#regular-expressions"><i class="fa fa-check"></i><b>5.2</b> Regular Expressions</a></li>
<li class="chapter" data-level="5.3" data-path="basic-string-processing.html"><a href="basic-string-processing.html#practice-regular-expressions"><i class="fa fa-check"></i><b>5.3</b> Practice: regular expressions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="advanced-string-processing.html"><a href="advanced-string-processing.html"><i class="fa fa-check"></i><b>6</b> Advanced String Processing</a>
<ul>
<li class="chapter" data-level="6.1" data-path="advanced-string-processing.html"><a href="advanced-string-processing.html#sentence-tokenization"><i class="fa fa-check"></i><b>6.1</b> Sentence tokenization</a></li>
<li class="chapter" data-level="6.2" data-path="advanced-string-processing.html"><a href="advanced-string-processing.html#stop-word-removal"><i class="fa fa-check"></i><b>6.2</b> Stop word removal</a></li>
<li class="chapter" data-level="6.3" data-path="advanced-string-processing.html"><a href="advanced-string-processing.html#removing-unwanted-sybols"><i class="fa fa-check"></i><b>6.3</b> Removing unwanted sybols</a></li>
<li class="chapter" data-level="6.4" data-path="advanced-string-processing.html"><a href="advanced-string-processing.html#stemming"><i class="fa fa-check"></i><b>6.4</b> Stemming</a></li>
<li class="chapter" data-level="6.5" data-path="advanced-string-processing.html"><a href="advanced-string-processing.html#part-of-speech-tagging-and-dependency-parsing"><i class="fa fa-check"></i><b>6.5</b> Part-of-speech tagging and dependency parsing</a></li>
<li class="chapter" data-level="6.6" data-path="advanced-string-processing.html"><a href="advanced-string-processing.html#data-processing-chains"><i class="fa fa-check"></i><b>6.6</b> Data processing chains</a></li>
<li class="chapter" data-level="6.7" data-path="advanced-string-processing.html"><a href="advanced-string-processing.html#concordancing-and-kwics"><i class="fa fa-check"></i><b>6.7</b> Concordancing and KWICs</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html"><i class="fa fa-check"></i><b>7</b> Basics of Data Visualization</a>
<ul>
<li class="chapter" data-level="7.1" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html#basics-of-ggplot2-syntax"><i class="fa fa-check"></i><b>7.1</b> Basics of ggplot2 syntax</a></li>
<li class="chapter" data-level="7.2" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html#line-plot"><i class="fa fa-check"></i><b>7.2</b> Line plot</a></li>
<li class="chapter" data-level="7.3" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html#prettifying-plots"><i class="fa fa-check"></i><b>7.3</b> Prettifying plots</a></li>
<li class="chapter" data-level="7.4" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html#combining-plots"><i class="fa fa-check"></i><b>7.4</b> Combining plots</a></li>
<li class="chapter" data-level="7.5" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html#boxplots"><i class="fa fa-check"></i><b>7.5</b> Boxplots</a></li>
<li class="chapter" data-level="7.6" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html#barplots"><i class="fa fa-check"></i><b>7.6</b> Barplots</a></li>
<li class="chapter" data-level="7.7" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html#wordclouds"><i class="fa fa-check"></i><b>7.7</b> Wordclouds</a></li>
<li class="chapter" data-level="7.8" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html#going-further"><i class="fa fa-check"></i><b>7.8</b> Going further</a></li>
<li class="chapter" data-level="7.9" data-path="basics-of-data-visualization.html"><a href="basics-of-data-visualization.html#ending-r-sessions"><i class="fa fa-check"></i><b>7.9</b> Ending R sessions</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html"><i class="fa fa-check"></i><b>8</b> Introduction to Text Analysis with R</a>
<ul>
<li class="chapter" data-level="8.1" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#what-is-text-analysis"><i class="fa fa-check"></i><b>8.1</b> What is Text Analysis?</a></li>
<li class="chapter" data-level="8.2" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#preparation-and-session-set-up"><i class="fa fa-check"></i><b>8.2</b> Preparation and session set up</a></li>
<li class="chapter" data-level="8.3" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#what-is-sentiment-analysis"><i class="fa fa-check"></i><b>8.3</b> What is Sentiment Analysis?</a></li>
<li class="chapter" data-level="8.4" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#exporting-the-results"><i class="fa fa-check"></i><b>8.4</b> Exporting the results</a></li>
<li class="chapter" data-level="8.5" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#summarizing-results"><i class="fa fa-check"></i><b>8.5</b> Summarizing results</a></li>
<li class="chapter" data-level="8.6" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#visualizing-results"><i class="fa fa-check"></i><b>8.6</b> Visualizing results</a></li>
<li class="chapter" data-level="8.7" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#identifying-important-emotives"><i class="fa fa-check"></i><b>8.7</b> Identifying important emotives</a></li>
<li class="chapter" data-level="8.8" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#dimensions-of-keyness"><i class="fa fa-check"></i><b>8.8</b> Dimensions of keyness</a></li>
<li class="chapter" data-level="8.9" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#identifying-keywords"><i class="fa fa-check"></i><b>8.9</b> Identifying keywords</a></li>
<li class="chapter" data-level="8.10" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#visualising-keywords"><i class="fa fa-check"></i><b>8.10</b> Visualising keywords</a></li>
<li class="chapter" data-level="8.11" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#networks"><i class="fa fa-check"></i><b>8.11</b> Networks</a></li>
<li class="chapter" data-level="8.12" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#collocations"><i class="fa fa-check"></i><b>8.12</b> Collocations</a></li>
<li class="chapter" data-level="8.13" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#getting-started-with-topic-modelling"><i class="fa fa-check"></i><b>8.13</b> Getting started with Topic Modelling</a></li>
<li class="chapter" data-level="8.14" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#human-in-the-loop-topic-modelling"><i class="fa fa-check"></i><b>8.14</b> Human-in-the-loop Topic Modelling</a></li>
<li class="chapter" data-level="8.15" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#loading-and-preparing-data"><i class="fa fa-check"></i><b>8.15</b> Loading and preparing data</a></li>
<li class="chapter" data-level="8.16" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#initial-unsupervised-topic-model"><i class="fa fa-check"></i><b>8.16</b> Initial unsupervised topic model</a></li>
<li class="chapter" data-level="8.17" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#supervised-seeded-topic-model"><i class="fa fa-check"></i><b>8.17</b> Supervised, seeded topic model</a></li>
<li class="chapter" data-level="8.18" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#data-preparation"><i class="fa fa-check"></i><b>8.18</b> Data preparation</a></li>
<li class="chapter" data-level="8.19" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#creating-a-matrix"><i class="fa fa-check"></i><b>8.19</b> Creating a matrix</a></li>
<li class="chapter" data-level="8.20" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#visualizing-networks"><i class="fa fa-check"></i><b>8.20</b> Visualizing Networks</a></li>
<li class="chapter" data-level="8.21" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#network-statistics"><i class="fa fa-check"></i><b>8.21</b> Network Statistics</a>
<ul>
<li class="chapter" data-level="8.21.1" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#degree-centrality"><i class="fa fa-check"></i><b>8.21.1</b> Degree centrality</a></li>
<li class="chapter" data-level="8.21.2" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#central-node"><i class="fa fa-check"></i><b>8.21.2</b> Central node</a></li>
<li class="chapter" data-level="8.21.3" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#betweenness-centrality"><i class="fa fa-check"></i><b>8.21.3</b> Betweenness centrality</a></li>
<li class="chapter" data-level="8.21.4" data-path="introduction-to-text-analysis-with-r.html"><a href="introduction-to-text-analysis-with-r.html#closeness"><i class="fa fa-check"></i><b>8.21.4</b> Closeness</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R for Social Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="working-with-text" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Section 3</span> Working with Text<a href="working-with-text.html#working-with-text" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this section, we will learn how to work with textual data in R and we use positive IMDB reviews as our example texts. Before we start, it is important to understand the general logic of R code which is why we start with a very brief explanation of functions and objects.</p>
<div id="functions-and-objects" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Functions and Objects<a href="working-with-text.html#functions-and-objects" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In R, functions always have the following form: <code>function(argument1, argument2, ..., argumentN)</code>. Typically a function does something to an object (e.g. a table), so that the first argument typically specifies the data to which the function is applied. Other arguments then allow to add some information. Just as a side note, functions are also objects that do not contain data but instructions.</p>
<p>To assign content to an object, we use <code>&lt;-</code> or <code>=</code> so that the we provide a name for an object, and then assign some content to it. For example, <code>MyObject &lt;- 1:20</code> means <em>Create an object called <code>MyObject</code>. this object should contain the numbers 1 to 20</em>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="working-with-text.html#cb8-1" tabindex="-1"></a><span class="co"># generate an object</span></span>
<span id="cb8-2"><a href="working-with-text.html#cb8-2" tabindex="-1"></a>MyObject <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb8-3"><a href="working-with-text.html#cb8-3" tabindex="-1"></a><span class="co"># inspecting my object</span></span>
<span id="cb8-4"><a href="working-with-text.html#cb8-4" tabindex="-1"></a>MyObject</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
</div>
<div id="inspecting-data" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Inspecting data<a href="working-with-text.html#inspecting-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are many ways to inspect data. We will briefly go over the most common ways to inspect data.</p>
<p>The <code>head</code> function takes the data-object as its first argument and automatically shows the first 6 elements of an object (or rows if the data-object has a table format). In contrast, the <code>str</code> function shows the structure of an object.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="working-with-text.html#cb10-1" tabindex="-1"></a><span class="co"># inspect first six elements of my object</span></span>
<span id="cb10-2"><a href="working-with-text.html#cb10-2" tabindex="-1"></a><span class="fu">head</span>(MyObject)</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="working-with-text.html#cb12-1" tabindex="-1"></a><span class="co"># inspect structure of my object</span></span>
<span id="cb12-2"><a href="working-with-text.html#cb12-2" tabindex="-1"></a><span class="fu">str</span>(MyObject)</span></code></pre></div>
<pre><code>##  int [1:20] 1 2 3 4 5 6 7 8 9 10 ...</code></pre>
<p>Next, we will learn how to load texts into R.</p>
</div>
<div id="loading-text-data" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Loading text data<a href="working-with-text.html#loading-text-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are many functions that we can use to load text data into R. For example, we can use the <code>readLines</code> function as shown below.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="working-with-text.html#cb14-1" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="fu">readLines</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;reviews_pos/textpos1.txt&quot;</span>))</span>
<span id="cb14-2"><a href="working-with-text.html#cb14-2" tabindex="-1"></a><span class="co"># inspect first text element</span></span>
<span id="cb14-3"><a href="working-with-text.html#cb14-3" tabindex="-1"></a>text</span></code></pre></div>
<pre><code>## [1] &quot;One of the other reviewers has mentioned that after watching just 1 Oz episode you&#39;ll be hooked. They are right, as this is exactly what happened with me.&lt;br /&gt;&lt;br /&gt;The first thing that struck me about Oz was its brutality and unflinching scenes of violence, which set in right from the word GO. Trust me, this is not a show for the faint hearted or timid. This show pulls no punches with regards to drugs, sex or violence. Its is hardcore, in the classic use of the word.&lt;br /&gt;&lt;br /&gt;It is called OZ as that is the nickname given to the Oswald Maximum Security State Penitentary. It focuses mainly on Emerald City, an experimental section of the prison where all the cells have glass fronts and face inwards, so privacy is not high on the agenda. Em City is home to many..Aryans, Muslims, gangstas, Latinos, Christians, Italians, Irish and more....so scuffles, death stares, dodgy dealings and shady agreements are never far away.&lt;br /&gt;&lt;br /&gt;I would say the main appeal of the show is due to the fact that it goes where other shows wouldn&#39;t dare. Forget pretty pictures painted for mainstream audiences, forget charm, forget romance...OZ doesn&#39;t mess around. The first episode I ever saw struck me as so nasty it was surreal, I couldn&#39;t say I was ready for it, but as I watched more, I developed a taste for Oz, and got accustomed to the high levels of graphic violence. Not just violence, but injustice (crooked guards who&#39;ll be sold out for a nickel, inmates who&#39;ll kill on order and get away with it, well mannered, middle class inmates being turned into prison bitches due to their lack of street skills or prison experience) Watching Oz, you may become comfortable with what is uncomfortable viewing....thats if you can get in touch with your darker side.&quot;</code></pre>
<p>To load many texts, we can use a loop to read all texts in a folder as shown below. In a first step, we define the paths of the texts and then, we use the <code>map_chr</code> function from the <code>purrr</code> package to loop over the paths and read them into R. In addition, we add names to the texts based on the paths from where the texts were loaded.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="working-with-text.html#cb16-1" tabindex="-1"></a><span class="co"># define paths</span></span>
<span id="cb16-2"><a href="working-with-text.html#cb16-2" tabindex="-1"></a>reviews_pos <span class="ot">&lt;-</span> <span class="fu">list.files</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data/reviews_pos&quot;</span>), <span class="at">full.names =</span> T, <span class="at">pattern =</span> <span class="st">&quot;.*txt&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="working-with-text.html#cb16-3" tabindex="-1"></a>  <span class="co"># load data</span></span>
<span id="cb16-4"><a href="working-with-text.html#cb16-4" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map_chr</span>(<span class="sc">~</span> readr<span class="sc">::</span><span class="fu">read_file</span>(.))</span>
<span id="cb16-5"><a href="working-with-text.html#cb16-5" tabindex="-1"></a><span class="co"># add names</span></span>
<span id="cb16-6"><a href="working-with-text.html#cb16-6" tabindex="-1"></a><span class="fu">names</span>(reviews_pos) <span class="ot">&lt;-</span> <span class="fu">list.files</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data/reviews_pos&quot;</span>), <span class="at">pattern =</span> <span class="st">&quot;.*txt&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="working-with-text.html#cb16-7" tabindex="-1"></a>  stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;.txt&quot;</span>)</span>
<span id="cb16-8"><a href="working-with-text.html#cb16-8" tabindex="-1"></a><span class="co"># inspect first text element</span></span>
<span id="cb16-9"><a href="working-with-text.html#cb16-9" tabindex="-1"></a>reviews_pos[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                textpos1 
## &quot;One of the other reviewers has mentioned that after watching just 1 Oz episode you&#39;ll be hooked. They are right, as this is exactly what happened with me.&lt;br /&gt;&lt;br /&gt;The first thing that struck me about Oz was its brutality and unflinching scenes of violence, which set in right from the word GO. Trust me, this is not a show for the faint hearted or timid. This show pulls no punches with regards to drugs, sex or violence. Its is hardcore, in the classic use of the word.&lt;br /&gt;&lt;br /&gt;It is called OZ as that is the nickname given to the Oswald Maximum Security State Penitentary. It focuses mainly on Emerald City, an experimental section of the prison where all the cells have glass fronts and face inwards, so privacy is not high on the agenda. Em City is home to many..Aryans, Muslims, gangstas, Latinos, Christians, Italians, Irish and more....so scuffles, death stares, dodgy dealings and shady agreements are never far away.&lt;br /&gt;&lt;br /&gt;I would say the main appeal of the show is due to the fact that it goes where other shows wouldn&#39;t dare. Forget pretty pictures painted for mainstream audiences, forget charm, forget romance...OZ doesn&#39;t mess around. The first episode I ever saw struck me as so nasty it was surreal, I couldn&#39;t say I was ready for it, but as I watched more, I developed a taste for Oz, and got accustomed to the high levels of graphic violence. Not just violence, but injustice (crooked guards who&#39;ll be sold out for a nickel, inmates who&#39;ll kill on order and get away with it, well mannered, middle class inmates being turned into prison bitches due to their lack of street skills or prison experience) Watching Oz, you may become comfortable with what is uncomfortable viewing....thats if you can get in touch with your darker side.\r\n&quot;</code></pre>
</div>
<div id="saving-text-data" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Saving text data<a href="working-with-text.html#saving-text-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To save a single text file, we can use <code>writeLines</code> function which only needs the text and the location where the text should be saved as its arguments.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="working-with-text.html#cb18-1" tabindex="-1"></a><span class="fu">writeLines</span>(reviews_pos[<span class="dv">1</span>], here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;review_pos_text1.txt&quot;</span>))</span></code></pre></div>
<p>To save many text files on your computer, you need to first define the locations where you want to save the texts and then, in a second step, you save the files (as shown below).</p>
<blockquote>
<p>IMPORTANT: I have created a folder called <code>output</code> in my data folder in which the texts will be saved!</p>
</blockquote>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="working-with-text.html#cb19-1" tabindex="-1"></a><span class="co"># define where to save each file</span></span>
<span id="cb19-2"><a href="working-with-text.html#cb19-2" tabindex="-1"></a>outs <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">paste0</span>(here<span class="sc">::</span><span class="fu">here</span>(), <span class="st">&quot;/&quot;</span>, <span class="st">&quot;data/output&quot;</span>, <span class="st">&quot;/&quot;</span>, <span class="fu">names</span>(reviews_pos), <span class="st">&quot;.txt&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>))</span>
<span id="cb19-3"><a href="working-with-text.html#cb19-3" tabindex="-1"></a><span class="fu">head</span>(outs)</span></code></pre></div>
<pre><code>## [1] &quot;F:/data recovery/Uni/UQ/SLC/LADAL/workshops/IntroR_WS/data/output/textpos1.txt&quot;   
## [2] &quot;F:/data recovery/Uni/UQ/SLC/LADAL/workshops/IntroR_WS/data/output/textpos10.txt&quot;  
## [3] &quot;F:/data recovery/Uni/UQ/SLC/LADAL/workshops/IntroR_WS/data/output/textpos100.txt&quot; 
## [4] &quot;F:/data recovery/Uni/UQ/SLC/LADAL/workshops/IntroR_WS/data/output/textpos1000.txt&quot;
## [5] &quot;F:/data recovery/Uni/UQ/SLC/LADAL/workshops/IntroR_WS/data/output/textpos101.txt&quot; 
## [6] &quot;F:/data recovery/Uni/UQ/SLC/LADAL/workshops/IntroR_WS/data/output/textpos102.txt&quot;</code></pre>
<blockquote>
<p>IMPORTANT: I have set the chunk attribute eval to F (FALSE) so that this chunk is not executed automatically. To run the code chunk, please just click the green “play button” in the top right corner of the code chunk.</p>
</blockquote>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="working-with-text.html#cb21-1" tabindex="-1"></a><span class="co"># save the files</span></span>
<span id="cb21-2"><a href="working-with-text.html#cb21-2" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">seq_along</span>(reviews_pos), <span class="cf">function</span>(i) </span>
<span id="cb21-3"><a href="working-with-text.html#cb21-3" tabindex="-1"></a>       <span class="fu">writeLines</span>(reviews_pos[[i]],  </span>
<span id="cb21-4"><a href="working-with-text.html#cb21-4" tabindex="-1"></a>       <span class="at">con =</span> outs[i]))</span></code></pre></div>
</div>
<div id="piping" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Piping<a href="working-with-text.html#piping" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Piping is done using the <code>%&gt;%</code> sequence and it can be translated as <strong>and then</strong>. In the example below, we take the existing object (text) <em>and then</em> we convert it to upper case <strong>and then</strong> we store the result in a new object (text2).</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="working-with-text.html#cb22-1" tabindex="-1"></a>text <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="working-with-text.html#cb22-2" tabindex="-1"></a>  <span class="fu">toupper</span>() <span class="ot">-&gt;</span> text2</span>
<span id="cb22-3"><a href="working-with-text.html#cb22-3" tabindex="-1"></a><span class="co"># inspect data</span></span>
<span id="cb22-4"><a href="working-with-text.html#cb22-4" tabindex="-1"></a>text2</span></code></pre></div>
<pre><code>## [1] &quot;ONE OF THE OTHER REVIEWERS HAS MENTIONED THAT AFTER WATCHING JUST 1 OZ EPISODE YOU&#39;LL BE HOOKED. THEY ARE RIGHT, AS THIS IS EXACTLY WHAT HAPPENED WITH ME.&lt;BR /&gt;&lt;BR /&gt;THE FIRST THING THAT STRUCK ME ABOUT OZ WAS ITS BRUTALITY AND UNFLINCHING SCENES OF VIOLENCE, WHICH SET IN RIGHT FROM THE WORD GO. TRUST ME, THIS IS NOT A SHOW FOR THE FAINT HEARTED OR TIMID. THIS SHOW PULLS NO PUNCHES WITH REGARDS TO DRUGS, SEX OR VIOLENCE. ITS IS HARDCORE, IN THE CLASSIC USE OF THE WORD.&lt;BR /&gt;&lt;BR /&gt;IT IS CALLED OZ AS THAT IS THE NICKNAME GIVEN TO THE OSWALD MAXIMUM SECURITY STATE PENITENTARY. IT FOCUSES MAINLY ON EMERALD CITY, AN EXPERIMENTAL SECTION OF THE PRISON WHERE ALL THE CELLS HAVE GLASS FRONTS AND FACE INWARDS, SO PRIVACY IS NOT HIGH ON THE AGENDA. EM CITY IS HOME TO MANY..ARYANS, MUSLIMS, GANGSTAS, LATINOS, CHRISTIANS, ITALIANS, IRISH AND MORE....SO SCUFFLES, DEATH STARES, DODGY DEALINGS AND SHADY AGREEMENTS ARE NEVER FAR AWAY.&lt;BR /&gt;&lt;BR /&gt;I WOULD SAY THE MAIN APPEAL OF THE SHOW IS DUE TO THE FACT THAT IT GOES WHERE OTHER SHOWS WOULDN&#39;T DARE. FORGET PRETTY PICTURES PAINTED FOR MAINSTREAM AUDIENCES, FORGET CHARM, FORGET ROMANCE...OZ DOESN&#39;T MESS AROUND. THE FIRST EPISODE I EVER SAW STRUCK ME AS SO NASTY IT WAS SURREAL, I COULDN&#39;T SAY I WAS READY FOR IT, BUT AS I WATCHED MORE, I DEVELOPED A TASTE FOR OZ, AND GOT ACCUSTOMED TO THE HIGH LEVELS OF GRAPHIC VIOLENCE. NOT JUST VIOLENCE, BUT INJUSTICE (CROOKED GUARDS WHO&#39;LL BE SOLD OUT FOR A NICKEL, INMATES WHO&#39;LL KILL ON ORDER AND GET AWAY WITH IT, WELL MANNERED, MIDDLE CLASS INMATES BEING TURNED INTO PRISON BITCHES DUE TO THEIR LACK OF STREET SKILLS OR PRISON EXPERIENCE) WATCHING OZ, YOU MAY BECOME COMFORTABLE WITH WHAT IS UNCOMFORTABLE VIEWING....THATS IF YOU CAN GET IN TOUCH WITH YOUR DARKER SIDE.&quot;</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercise-1-introducing-text-processing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/MartinSchweinberger/IntroR_WS/edit/main/02-intror.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/MartinSchweinberger/IntroR_WS/blob/main/02-intror.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
